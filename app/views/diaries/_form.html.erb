<div class="container my-5">
  <div class="row">
    <div class="col-lg-3">
      <%= render "shared/sidebar", current_page: 'diary' %>
    </div>
    <div class="col-lg-9">
      <div>
        <h4 class="d-flex align-items-center gap-2 fw-bold"><i class="fa fa-paw text-light-main"></i> 日記を書く</h4>
        <div class="border border-dark rounded mt-4">
          <div class="bg-light-grey px-4 py-3 rounded-t d-flex align-items-end gap-2 border-bottom border-dark">
            <h6 class="mb-0 fw-bold">日記内容</h6>
            <small> (<span class="text-main">※</span>の項目は入力必須)</small>
          </div>
          <div>
            <%= form_with(model: [ @user, @diary ]) do |form| %>
              <% if diary.errors.any? %>
                <div id="error_explanation">
                  <h2><%= pluralize(diary.errors.count, "error") %> prohibited this diary from being saved:</h2>
                  <ul>
                    <% diary.errors.each do |error| %>
                      <li><%= error.full_message %></li>
                    <% end %>
                  </ul>
                </div>
              <% end %>
              <div class="row" style="margin-left: 0 !important; margin-right: 0 !important; border-bottom: 1px dashed #ddd">
                <div class="col-3 px-5 py-5" style="border-right: 1px dashed #ddd">
                  <%= form.label :タイトル, class:"form-label" %>
                </div>
                <div class="col-9 px-5 py-5">
                  <%= form.text_field :title, class:"form-control" %>
                </div>
              </div>
              <div class="row" style="margin-left: 0 !important; margin-right: 0 !important; border-bottom: 1px dashed #ddd">
                <div class="col-3 px-5 py-5" style="border-right: 1px dashed #ddd">
                  <%= form.label :内容, class:"form-label" %>
                </div>
                <div class="col-9 px-5 py-5">
                  <%= form.text_area :content, rows: "5", class:"form-control" %>
                </div>
              </div>
              <div class="row" style="margin-left: 0 !important; margin-right: 0 !important; border-bottom: 1px dashed #ddd">
                <div class="col-3 px-5 py-5" style="border-right: 1px dashed #ddd">
                  <%= form.label :画像, class:"form-label" %>
                </div>
                <div class="col-9 px-5 py-5">
                  <%= form.file_field :image %>
                </div>
              </div>
              <div class="actions px-5 py-5 text-center bg-light-grey rounded-b">
                <p class="text-start">利用規約および個人情報の取り扱いについてをご確認、同意のうえ投稿してください。利用規約の禁止事項や免責事項に反する場合、事前の通告なしに投稿を削除させていただく場合がありますのでご了承ください。</p>
                <%= form.submit "入力内容を確認する", class:"btn bg-light-main text-white fw-bold mt-3" %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
